#include <complex.h>
#include <math.h>
#include "fft.h"

int main()
{
    double complex in1[312] = {
        1, 2, 3, 1, 2, 3, 2, 3, 4, 2, 3, 1, 3, 1, 4, 1, 2, 3, 4, 1, 2, 3, 4, 1,
        2, 3, 4, 2, 4, 3, 5, 3, 4, 5, 2, 3, 4, 5, 2, 1, 3, 2, 4, 1, 2, 3, 4, 2,
        3, 4, 5, 2, 3, 4, 5, 1, 2, 3, 4, 1, 2, 3, 4, 1, 3, 5, 2, 3, 4, 5, 2, 3,
        4, 5, 1, 3, 4, 3, 1, 2, 3, 1, 1, 2, 3, 4, 1, 4, 2, 3, 4, 5, 2, 3, 4, 5,
        3, 4, 5, 6, 2, 4, 3, 5, 2, 4, 5, 2, 5, 4, 6, 3, 4, 5, 2, 3, 4, 1, 3, 4,
        2, 3, 4, 5, 2, 3, 4, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
    double complex out1[312];
    double complex in2[312] = {
        1, 2, 3, 1, 2, 3, 2, 3, 4, 2, 3, 1, 3, 1, 4, 1, 2, 3, 4, 1, 2, 3, 4, 1,
        2, 3, 4, 2, 4, 3, 5, 3, 4, 5, 2, 3, 4, 5, 2, 1, 3, 2, 4, 1, 2, 3, 4, 2,
        3, 4, 5, 2, 3, 4, 5, 1, 2, 3, 4, 1, 2, 3, 4, 1, 3, 5, 2, 3, 4, 5, 2, 3,
        4, 5, 1, 3, 4, 3, 1, 2, 3, 1, 1, 2, 3, 4, 1, 4, 2, 3, 4, 5, 2, 3, 4, 5,
        3, 4, 5, 6, 2, 4, 3, 5, 2, 4, 5, 2, 5, 4, 6, 3, 4, 5, 2, 3, 4, 1, 3, 4,
        2, 3, 4, 5, 2, 3, 4, 5, 2, 2, 5, 3, 4, 5, 2, 3, 4, 5, 2, 3, 4, 5, 2, 3,
        4, 5, 2, 4, 5, 2, 4, 3, 5, 2, 4, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
    double complex out2[312];
    double complex out3[312];
    double complex ans_array[312];

    FFT(in1, out1, 312);
    FFT(in2, out2, 312);

    for (int i = 0; i < 312; ++i) {
        out3[i] = out1[i] * out2[i];
    }

    IFFT(out3, ans_array, 312);

    double ans = 0;
    char str[312];
    int carry = 0;
    int sum = 0;
    int value;
    for (int i = 0; i < 312; ++i) {
        value = round(creal(ans_array[i])) + carry;
        sum = value % 10;
        carry = value / 10;

        str[i] = sum + '0';
    }
    for (int i = 311; i >= 0; --i) {
        printf("%c", str[i]);
    }
    printf("\n");
}
